<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5.forEach(),map(),$.each()</title>
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
</head>
<body>
    <script>
        // 一、原生JS forEach()和map()遍历 
        // 共同点：
        // (1)都是循环遍历数组中的每一项；
        // (2)forEach() 和 map() 里面每一次执行匿名函数都支持3个参数：数组中的当前项item,当前项的索引index,原始数组array；
        // (3)匿名函数中的this都是指Window；
        // (4)只能遍历数组。
       
        // forEach()方法：（没有返回值）
        var arr = [12, 23, 24, 42, 1];
        arr.forEach(function(value,index,array){
        　　//do something
        })
        // 参数：value数组中的当前项； index当前项的索；array原始数组；
        // 数组中有几项，那么传递进去的匿名回调函数就需要执行几次；
        // 理论上这个方法是没有返回值的，仅仅是遍历数组中的每一项，
        // 不对原来数组进行修改；但是可以自己通过数组的索引来修改原来的数组。

        
        var res = arr.forEach(function(value, index, arrNew) {
            arrNew[index] = value * 10;
        })
        console.log(res); //-->undefined;
        console.log(arr); //-->[120,230,240,420,10]; 通过数组索引改变了原数组

        // map()方法：（没有返回值，可以return出来）

        arr.map(function(value,index,array){
        　　//do something
        })

        // 参数：value数组中的当前项； index当前项的索引；array原始数组；
        // 区别：map的回调函数中支持return返回值；return的是啥，相当于把数组中的这一项变为啥
        // （并不影响原来的数组，只是相当于把原数组克隆一份，把克隆的这一份的数组中的对应项改变了）；

        var res1 = arr.map(function(vlaue, index, arrNew) {
            return vlaue * 10;
        })
        console.log(res1); //-->[120,230,240,420,10]; 原数组拷贝了一份，并进行了修改
        console.log(arr); //-->[12,23,24,42,1]; 原数组并未发生变化

        // 二、jQuery .each()和.map()遍历
        // 共同点：
        // 即可遍历数组，又可遍历对象；

        // $.each()方法：（没有返回值）
        // 遍历数组：
        $.each(arr, function(index,value){
        　　//do something
        });
        // 参数　 index当前项的索引；value 数组中的当前项
        // 注意：第1个和第2个参数正好和以上两个函数是相反的；

        var arr = [12, 23, 24, 42, 1];
        $.each(arr, function(index, value) {
            console.log(index) // 0 1 2 3 4
            console.log(value) // 12 23 24 42 1
        })

        // 遍历对象：
        $.each({ name: "John", lang: "JS" }, function(k, n) {
            console.log("Name: " + k + ", Value: " + n);
        });
        //Name: name, Value: John 
        // Name: lang, Value: JS

        // 总结:
        // 1.遍历数组
        // (1)原生js有两种方法都可以使用:
            // for(var i;i<arr.length;i++){}
            // for(var i in arr){} 

        // (2)jquery有两个函数共计四种方法都可以使用:
            // $.each(arr,function(i,item){})
            // $(arr).each(function(i,item){})
            // $.map(arr,function(i,item){})
            // $(arr).map(function(i,item){})

        // 2.遍历对象 

        // (1)原生js有一种方法可以使用for(var i in obj){}
        // (2)jquery有两个函数共计两种方法可以使用:
           // $.each(obj,function(i,item){})
           // $.map(obj,function(i,item){})

        // for...in和for...of
        // for...in 得到对象的key或数组，字符串的下标
        // for...of 和forEach一样，直接得到值，不能遍历Object对象
    </script>
</body>
</html>